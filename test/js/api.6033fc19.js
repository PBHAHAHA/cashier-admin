import{a as b}from"./axios.451cdb92.js";import{l as y}from"./qs.541cb51f.js";const N="http://testadmin.go2b2b.com",o=b.create({baseURL:N,timeout:6e4}),p=[],h=t=>{for(const e in p){const r=+e,s=p[e];s.url===t.url&&s.method===t.method&&JSON.stringify(s.params)===JSON.stringify(t.params)&&JSON.stringify(s.data)===JSON.stringify(t.data)&&(s.cancel("\u64CD\u4F5C\u592A\u9891\u7E41\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5"),p.splice(r,1))}};function n(){return localStorage.getItem("YYDANHONGTOKEN")}o.interceptors.request.use(t=>{var e,r,s,d,l,u,m,i;return t.method==="get"&&!((e=t==null?void 0:t.params)!=null&&e.noToken)&&(t.headers.get.Authorization=n()),t.method==="post"&&!((r=t==null?void 0:t.data)!=null&&r.noToken)&&(t.headers.post.Authorization=n()),t.method==="get"&&((s=t==null?void 0:t.params)==null?void 0:s.noToken)&&delete t.params.noToken,t.method==="post"&&((d=t==null?void 0:t.data)==null?void 0:d.noToken)&&delete t.data.noToken,t.method==="post"&&(((l=t==null?void 0:t.data)==null?void 0:l.formData)===!0?(delete t.data.formData,t.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",t.data=y.stringify(t.data)):((u=t==null?void 0:t.data)==null?void 0:u.isFile)===!0&&(t.headers.post["Content-Type"]="multipart/form-data;",delete t.data.isFile)),((m=t==null?void 0:t.data)==null?void 0:m.abortFlag)&&delete t.data.abortFlag&&h(t),((i=t==null?void 0:t.params)==null?void 0:i.abortFlag)&&delete t.params.abortFlag&&h(t),t},t=>Promise.reject(t));o.interceptors.response.use(t=>{const e=t.data;return e.code==401&&(alert("\u767B\u5F55\u8FC7\u671F"),localStorage.clear(),window.location.href="/login"),e},t=>(t.toString().indexOf("timeout")>-1&&console.log("\u8BF7\u6C42\u8D85\u65F6\uFF1A",p[p.length-1].url),Promise.resolve(t)));const a={get(t,e,r){return o({method:"get",url:`${t}`,params:e,headers:r})},post(t,e){return o({method:"post",url:`${t}`,data:e})}},P="http://testadmin.go2b2b.com/api/upload/images",k="http://testadmin.go2b2b.com/api/search/getProductsByFile",O="http://testadmin.go2b2b.com/api/product/upload/batch",F=()=>({Authorization:localStorage.getItem("YYDANHONGTOKEN")+1}),D=t=>a.post("/login",t),L=t=>a.post("/api/supplier/save",t),U=t=>a.post("/api/supplier/listPage",t),v=t=>a.post("/api/supplier/delete",t),B=t=>a.post("/api/supplier/listStreet",t),I=t=>a.post("/api/supplier/listByName",t),w=t=>a.post("/api/product/save",t),A=t=>a.post("/api/product/listPage",t),c=t=>a.post("/api/product/delete",t),x=t=>a.get(`/api/product/detail/${t.id}`),J=t=>a.post("/api/orders/page",t),Y=t=>a.post("/api/search/getProductsByImage",t);export{O as a,P as b,c,x as d,w as e,U as f,B as g,v as h,L as i,k as j,Y as k,D as l,J as o,A as p,I as s,F as u};
