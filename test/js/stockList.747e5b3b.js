import{l as j,u as F,v as H,m as M,o as q,C as A,q as O,r as Q,s as R,y as W,A as $}from"./element-plus.e2f6c87e.js";import"./vue.71d9eb96.js";import{o as G}from"./api.6033fc19.js";import{_ as J}from"./index.fb21dd1c.js";import{b as K}from"./@element-plus.ffb1aafe.js";import{$ as P,b as v,i as X,o as _,c as k,a as l,W as a,u as o,Q as p,R as Y,P as z,U as c,V as u,F as x,a5 as Z,T as ee,ax as ae,ay as te}from"./@vue.261fc3d1.js";import"./lodash-es.39464d94.js";import"./@vueuse.95af7be7.js";import"./@popperjs.fd04dfd6.js";import"./@ctrl.5f67d428.js";import"./dayjs.38009a6e.js";import"./axios.451cdb92.js";import"./async-validator.55f0915b.js";import"./memoize-one.c87f6fc8.js";import"./escape-html.86960cf8.js";import"./normalize-wheel-es.e2b4fa49.js";import"./@floating-ui.6a15212d.js";import"./qs.541cb51f.js";import"./side-channel.ba01de6f.js";import"./get-intrinsic.0f3ed0a2.js";import"./has-symbols.6b764405.js";import"./function-bind.c99feded.js";import"./has.38a7880d.js";import"./call-bind.00b5229b.js";import"./object-inspect.01dab752.js";import"./vue-router.921957ed.js";import"./pinia.e3c5cb31.js";import"./vue-demi.0e4c1019.js";import"./default-passive-events.a10ec130.js";const g=h=>(ae("data-v-52f1faaf"),h=h(),te(),h),oe={class:"page-main"},le={class:"searchbox"},se={class:"search-item"},re=g(()=>l("div",{class:"search-label"},"\u5907\u8D27\u5355\u53F7",-1)),ne={class:"search-item"},ie=g(()=>l("div",{class:"search-label"},"\u5382\u5546\u8D26\u53F7",-1)),pe={class:"search-item"},ce=g(()=>l("div",{class:"search-label"},"\u91C7\u8D2D\u5546\u8D26\u53F7",-1)),ue={class:"search-item"},de={class:"search-item"},me={class:"tablelist"},_e=g(()=>l("br",null,null,-1)),ge=g(()=>l("br",null,null,-1)),he={class:"pagebox"},fe={__name:"stockList",setup(h){const r=P({purchaser:"",orderId:"",manufacturer:"",checkState:"-1",platform:""}),C=v([]),V=v(0);X(()=>{V.value=window.innerHeight-220});const s=P({currentPage:1,pageSize:30,total:0}),E=d=>{s.pageSize=d,s.currentPage=1,b()},I=d=>{s.currentPage=d,b()};function L(){s.currentPage=1,b()}const f=v(!1);async function b(){var m,n;if(f.value)return;f.value=!0;let d={...r,pageNo:s.currentPage,pageSize:s.pageSize},t=await G(d);t.code===0?(C.value=((m=t==null?void 0:t.data)==null?void 0:m.records)||[],s.total=(n=t==null?void 0:t.data)==null?void 0:n.totalCount):$.error((t==null?void 0:t.msg)||"\u670D\u52A1\u5668\u53D1\u751F\u9519\u8BEF"),f.value=!1}return b(),(d,t)=>{const m=j,n=F,y=H,U=M,i=q,N=A,D=O,T=Q,B=R,w=W;return _(),k("div",oe,[l("div",le,[l("div",se,[re,a(m,{modelValue:o(r).orderId,"onUpdate:modelValue":t[0]||(t[0]=e=>o(r).orderId=e),placeholder:"\u8BF7\u8F93\u5165\u5907\u8D27\u5355\u53F7"},null,8,["modelValue"])]),l("div",ne,[ie,a(m,{modelValue:o(r).manufacturer,"onUpdate:modelValue":t[1]||(t[1]=e=>o(r).manufacturer=e),placeholder:"\u8BF7\u8F93\u5165\u5382\u5546\u8D26\u53F7"},null,8,["modelValue"])]),l("div",pe,[ce,a(m,{modelValue:o(r).purchaser,"onUpdate:modelValue":t[2]||(t[2]=e=>o(r).purchaser=e),placeholder:"\u8BF7\u8F93\u5165\u91C7\u8D2D\u5546\u8D26\u53F7"},null,8,["modelValue"])]),l("div",ue,[a(y,{modelValue:o(r).checkState,"onUpdate:modelValue":t[3]||(t[3]=e=>o(r).checkState=e),placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001"},{default:p(()=>[a(n,{label:"\u5168\u90E8\u72B6\u6001",value:"-1"}),a(n,{label:"\u672A\u67E5\u770B",value:"0"}),a(n,{label:"\u5DF2\u67E5\u770B",value:"1"})]),_:1},8,["modelValue"])]),l("div",de,[a(y,{modelValue:o(r).platform,"onUpdate:modelValue":t[4]||(t[4]=e=>o(r).platform=e),placeholder:"\u8BF7\u9009\u62E9\u5E73\u53F0"},{default:p(()=>[a(n,{label:"\u5168\u90E8\u5E73\u53F0",value:""}),a(n,{label:"\u751F\u610F\u7F51",value:"e3e3"}),a(n,{label:"\u8D2D\u9014\u7F51",value:"go2"}),a(n,{label:"\u8863\u886B\u6C47\u7537\u88C5",value:"e3hm"}),a(n,{label:"\u8863\u886B\u6C47\u5973\u88C5",value:"e3hw"})]),_:1},8,["modelValue"])]),a(U,{type:"primary",icon:o(K),onClick:L},{default:p(()=>[c("\u641C\u7D22")]),_:1},8,["icon"])]),l("div",me,[Y((_(),z(T,{data:o(C),border:"",stripe:"",class:"ctanel","header-cell-style":{background:"#f5f7fa"},height:o(V)},{empty:p(()=>[a(D,{description:"\u6682\u65E0\u6570\u636E"})]),default:p(()=>[a(i,{label:"\u521B\u5EFA\u65F6\u95F4",prop:"createTime"}),a(i,{label:"\u5907\u8D27\u5355\u53F7",prop:"id"}),a(i,{label:"\u91C7\u8D2D\u5546\u8D26\u53F7"},{default:p(({row:e})=>[c(u(e.purchaserName)+" ",1),_e,c(" "+u(e.purchaserPhone)+" ",1),(_(!0),k(x,null,Z(e.purchaserPlatforms||[],S=>(_(),z(N,{key:S},{default:p(()=>[c(u({e3e3:"\u751F\u610F\u7F51",go2:"\u8D2D\u9014\u7F51",e3hm:"\u8863\u886B\u6C47\u7537\u88C5",e3hw:"\u8863\u886B\u6C47\u5973\u88C5"}[S]),1)]),_:2},1024))),128))]),_:1}),a(i,{label:"\u5382\u5546\u8D26\u53F7"},{default:p(({row:e})=>[c(u(e.manufacturerName)+" ",1),ge,c(" "+u(e.manufacturerPhone),1)]),_:1}),a(i,{label:"\u5382\u5546\u67E5\u770B\u72B6\u6001"},{default:p(({row:e})=>[c(u(e.checkState?"\u5DF2\u67E5\u770B":"\u672A\u67E5\u770B"),1)]),_:1}),a(i,{label:"\u5907\u8D27\u5355\u5546\u54C1\u6570",prop:"undoCount"}),a(i,{label:"\u5356\u5BB6\u5DF2\u62FF\u8D27\u5546\u54C1\u6570",prop:"takenCount"}),a(i,{label:"\u5382\u5BB6\u5DF2\u5907\u8D27\u5546\u54C1\u6570",prop:"supplierPreparedCount"}),a(i,{label:"\u5382\u5BB6\u5F02\u5E38\u8BB0\u5F55\u5546\u54C1\u6570",prop:"exceptionCount"}),a(i,{label:"\u662F\u5426\u5B8C\u6210"},{default:p(({row:e})=>[e.undoCount||e.takenCount?(_(),k(x,{key:0},[c(u(e.undoCount==e.takenCount?"\u5B8C\u6210":"\u672A\u5B8C\u6210"),1)],64)):ee("v-if",!0)]),_:1})]),_:1},8,["data","height"])),[[w,o(f)]]),l("div",he,[a(B,{"current-page":o(s).currentPage,"onUpdate:current-page":t[5]||(t[5]=e=>o(s).currentPage=e),"page-size":o(s).pageSize,"onUpdate:page-size":t[6]||(t[6]=e=>o(s).pageSize=e),"page-sizes":[30,80,150,300],background:"",layout:"total, sizes, prev, pager, next, jumper",total:o(s).total,onSizeChange:E,onCurrentChange:I},null,8,["current-page","page-size","total"])])])])}}},$e=J(fe,[["__scopeId","data-v-52f1faaf"],["__file","D:/workCode/yy-danhong-enter/src/views/stockList/stockList.vue"]]);export{$e as default};
